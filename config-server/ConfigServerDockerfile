FROM centos:6.5
MAINTAINER "guchengxu1988@163.com"

#添加jre
COPY target/server-jre-8u144-linux-x64.tar.gz /home/jdk/
RUN tar -zxvf /home/jdk/server-jre-8u144-linux-x64.tar.gz -C /usr/local/
RUN mv /usr/local/jdk1.8.0_144 /usr/local/java8

ENV JAVA_HOME=/usr/local/java8
ENV PATH=$JAVA_HOME/bin:$PATH
ENV CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar

COPY target/config-server-0.0.1-SNAPSHOT.tar.gz /home/www/config-server

ENV CLASSPATH=$CLASSPATH:/home/www/config-server/lib/*:/home/www/config-server/config/

#RUN bash -c 'touch /config-server.jar'
EXPOSE 8880
ENTRYPOINT ["java","com.gc.cloud.service.config.server.CloudConfigServerApp"]
